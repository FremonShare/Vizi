<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Vizi</title>
</head>
<body>
	<div id="container" style="width:98%; height:98%; position:absolute;background-color:red"></div>

    <script src="../libs/jquery-1.9.1/jquery-1.9.1.js"></script>
	<script src="../build/vizi.js"></script>
	<script>

	$(document).ready(function() {
		var container = document.getElementById("container");
		
		var app = new Vizi.Application({ container : container });


		var path = "./images/skybox/";
		
		var urls = [ path + "px.jpg", path + "nx.jpg",
					 path + "py.jpg", path + "ny.jpg",
					 path + "pz.jpg", path + "nz.jpg" ];

		var path = "./images/sky13/";
		
		var urls = [ path + "right55.jpg", path + "left55.jpg",
					 path + "top55.jpg", path + "top55.jpg",
					 path + "front55.jpg", path + "back55.jpg" ];
		
	
		var textureCube = THREE.ImageUtils.loadTextureCube( urls );

		
		var cube = new Vizi.Object;

		var visual = new Vizi.Visual(
				{ geometry: new THREE.CubeGeometry(2, 2, 2),
					material: new THREE.MeshBasicMaterial({
						color:0xeeeeee, 
						envMap:textureCube,
						})
				});


		cube.addComponent(visual);
		app.addObject(cube);

		var cam = new Vizi.PerspectiveCamera;
		var camera = new Vizi.Object;
		camera.addComponent(cam);
		cam.active = true;

		app.addObject(camera);
		
		var controller = Vizi.Prefabs.ModelController({active:true, headlight:true, 
		});
		var controllerScript = controller.getComponent(Vizi.ModelControllerScript);
		controllerScript.camera = cam;
		app.addObject(controller);
		

		var skybox = Vizi.Prefabs.Skybox(); // {texture:textureCube});
		var skyboxScript = skybox.getComponent(Vizi.SkyboxScript);
		skyboxScript.texture = textureCube;

		app.addObject(skybox);
		
		app.run();
	}
	);

	</script>
	
</body>
</html>